<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
<title>DirectResize</title>
<style type="text/css">
<!--
body {
	font: normal 10pt Tahoma;
}
h1 {
	font-weight: normal;
}
h2 {
	font-weight: normal;
	font-size: 160%;
	margin-top: 1.4em;
}
textarea {
	font-size: 85%;
	font: normal 10pt Tahoma;
}
code {
	font-family: "Courier new";
	color:#000080;
}
ol li {
	list-style-type: decimal;
}
ul li {
	list-style-type: square;
}
ul li li {
	list-style-type: disc;
}
td
{
	padding: 4px;
	border: 1px solid #CCC;
}
.theader{
	color: #999;
	text-align:center;
}
.label {
	color: #CC0033;
}
-->
</style>
</head>
<body>
<h1>DirectResize 0.8.0</h1>
<h2>Описание</h2>
<h3>Одним предложением</h3>
<p>Это как Maxigallery, только для одиночных изображений.</p>
<h3>Подробнее</h3>
<p>Полностью настраиваемый плагин для  создания уменьшенных копий изображений (предпросмотров) и имеющий ряд функций, таких как: автоматическое создание предпросмотра заданного размера, наложение водяных знаков, открытие увеличенного изображения с помощью AJAX (lightbox, slimbox, highslide...), абсолютно настраиваемый шаблон для html-вывода,  создание предпросмотра для WYSIWYG-редактора и т.д.</p>
<h3>Функции</h3>
<ul>
	<li>Возможность интеграции любых визуальных ява-скриптовых модов: Slidebox, Lightbox v2.0, Slimbox,  Highslide и т.д.</li>
	<li>Водяные знаки (текст или прозрачное png-изображение)</li>
	<li>Настройка плагина через config-файл с большим количеством параметров</li>
	<li>Полностью настраиваемый html-вывод</li>
	<li>Возможность применения плагина для изображений с удаленных серверов</li>
	<li>Предпросмотр для  WYSIWYG-редактора (тестировалось на TinyMCE)</li>
	<li>Создания предпросмотра строго заданного размера с обрезкой при соблюдении пропорций изображения</li>
	<li>Новые изображения генерируются только в случае необходимости, в остальных случаях идет загрузка из кеша</li>
	<li>Поддержка форматов JPG и PNG (GIF формат не поддерживается)</li>
</ul>
<h3>Как это работает</h3>
<p>В первую очередь плагин предназначен для использования совместно с  WYSIWYG-редактором и изначально целевой аудиторией пользователей плагина являются клиенты, которые не имеют познаний в веб-разработках и html, но которым необходимо использовать в тексте изображения с предпросмотрами. Объяснить такому человеку, что в графическом редакторе сначала необходимо создать уменьшенную копию нужного изображения, затем через редактор вставить ее в документ, а после сделать гиперссылку на увеличенное изображение, было бы весьма непросто.</p>
<p>Поэтому действия были упрощены до минимальных -  большое изображение вставляется в текст, затем для него задаются размеры, которые должен иметь предпросмотр. После этого плагин, в соотвествии со своими настройками, автоматически создаст предпросмотр и необходимые гиперссылки. </p>
<p>Кроме того, при открытие документа, содержащего такие изображения, в WYSIWYG-редакторе, вместо больших изображений, просто сжатых в размерах, будут так же отображаться их предпросмотры со специальным водяным знаком. Этот водяной знак условно говорит о том, что это изображение не просто маленькая картинка, а ссылка на свое увеличенное изображение и позволяет отличать такие изображения от действительно маленьких картинок, которые так же могут присутствовать в документе.</p>
<p>Эти предпросмотры можно изменять в размерах, при следующем вызове будут созданы новые предпросмотры в соответсвии с новыми размерами.</p>
<p>Конечно, можно использовать плагин и без визуального редактора, просто вставляя изображения в виде html-кода или TV-параметров.</p>
<h2>Установка</h2>
<ul>
	<li>Распакуйте архив и скопируйте папку assets из архива в корневую папку вашего сайта, все файлы скопируются в предназначенные им места</li>
	<li>Выставите права на запись на папку <em>assets/drgalleries/</em></li>
	<li>Создать новый плагин DirecrResize и скопировать в него содержимое файла <em>directResize.plugin.txt</em></li>
	<li>Открыть закладку &quot;Конфигурация&quot; в окне создания плагина и в поле &quot;Конфигурация плагина&quot; вставить <br />

	<textarea readonly="readonly" cols="80" rows="2" name="config">&amp;config=Конфигурация;string;highslide &amp;clearCache=Очистка кеша;list;0,1,2;0</textarea>
	</li>
	<li>Открыть закладку &quot;Системные события&quot; и выставить галочки на события <em>OnWebPagePrerender</em>, <em>OnCacheUpdate, OnBeforeDocFormSave</em>, <em>OnDocFormPrerender</em></li>
	<li>Сохранить плагин</li>
</ul>
<h2>Конфигурация плагина</h2>
<p>На странице редактировния плагина во вкладке &quot;Конфигурация&quot; возможен выбор двух параметров конфигурации плагина. Параметр<em> &quot;Конфигурация&quot;</em> это название используемой конфигурации, файл с таким же именем и суффиксом <em>.config.php</em> должен лежать в папке <em>configs</em> плагина. Наличие этого параметра и соответсвующего файла обязательно, в нем указываются все параметры по управлению плагином.</p>
<p><em>&quot;Очистка кеша&quot;</em> - параметр, управляющий режимом очистки кеша плагина. В кеше сохраняются сгенерированные предпросмотры с наложенными (при необходимости) водяными знаками и сгенерированные (при необходимости) большие изображения. Очистка кеша плагина происходит при очистке системного кеша MODx. </p>
<ul>
	<li>0 - очистка кеша плагина отключена</li>
	<li>1 - кеш плагина очищается только для редактируемого документа при его сохранении</li>
	<li>2 - кеш плагина очищается для всех документов (удаляются все сгенерированные изображения).</li>
</ul>
<p>Обновление кеша требуется в редких случаях. Например, когда  требуется удалить файлы изображений, ссылки на которые в документах уже не существуют. Или  при изменении изображения водяного знака. Новые изображения генерируются только в случае изменения их размеров. Поэтому новые водяные знаки не будут нанесены, т.к. размеры изображений остались прежними. В этом случае требуется обновить кеш, чтобы удалить изображения и сгенерировать их заново.</p>
<p>В остальных случаях плагин самостоятельно генерирует новые изображения без необходимости обновления кеша. Так что в большинстве случаев параметр обновления кеша стоит держать в значении 0.</p>
<h2>Стандартные пакеты конфигураций</h2>
<p>Плагин уже имеет набор из нескольких стандартных конфигураций, которые позволяют сразуже использовать плагин с эффектами slimbox, slidebox, lightbox, highslide на сайте без каких либо настроек. Для того чтобы подключить одну из конфигураций, необходимо в закладке конфигурации плагина указать название конфигурации в поле <em>&quot;Конфигурация&quot;</em>. Возможные варианты:</p>
<ul>
	<li>slimbox</li>
	<li>slidebox</li>
	<li>lightboxv2</li>
	<li>highslide</li>
</ul>
<p>Дополнительные настройки проводятся в файлах с соответствующими именами в папке assets\plugins\directresize\configs. Обязательно настройке список папок, в которых разрешено обрабатывать изображения плагином. По умолчанию используется папка assets/images.</p>
<p>Плагин использует те же самые ява-скриптовые библиотеки, что и Maxigallery, но из своей папки, поэтому если вы используете Maxigallery на своем сайте с тем же эффектом открывания изображений, что и DirectResize, используйте параметр <strong>$maxigallery_jscss_packs</strong>, чтобы избежать повторного подключения библиотек.</p>
<h2>Быстрый старт</h2>
<ol>
	<li>Установить плагин, убедиться что в папке assets есть подпапка drgalleries с установленными правами на запись.</li>
	<li>В настройках конфигурации плагина прописать один из предпочитаемых стандартных пакетов конфигурации - slimbox, slidebox, lightboxv2, highslide</li>
	<li>Убедиться, что исходные файлы изображений расположены в папке assets/images или в ее подпапках</li>
	<li>Для того чтобы в документе создавались предпросмотры и открывались изображения с выбранным в эффектом, <strong>обязательно указывать width и/или height для тегов img такими, какого размера требуется создать предпросмотр</strong>. Например для изображения <code>&lt;img src=&quot;assets/images/image.jpg&quot; width=&quot;120&quot; height=&quot;60&quot; /&gt;</code> будет сгенерирован предпросмотр размера 120х60. Естественно, оригинальное изображениe image.jpg должно превышать размеры 120х60 (иначе нет смысла создавать предпросмотр).</li>
</ol>
<h2>Параметры</h2>
<p>Параметры для использования в файле <em>имя_конфигурации</em>.<em>config.php</em>. Пример такого файла можно найти в папке <em>configs</em> плагина.</p>
<table width="100%" border="0" cellpadding="0" cellspacing="1">
	<tr>
		<td width="20%" class="theader">параметр</td>
		<td width="15%" class="theader">возможные значения</td>
		<td width="15%" class="theader"> значение по умолчанию</td>
		<td class="theader">описание, пример</td>
	</tr>
	<tr>
		<td><strong>$lightbox_mode</strong></td>
		<td><ul>
				<li>1</li>
				<li>2</li>
			</ul></td>
		<td>1</td>
		<td><p>Режим создания больших изображений и lightbox-ссылок</p>
			<ul>
				<li>1 - большое изображение и  lightbox-ссылка на него создаются только при наличии метки <span class="label">drlightbox</span> у исходного изображения (о метках <a href="#label">подробнее ниже</a>)</li>
				<li>2 - большое изображение и lightbox-ссылка создаются всегда (при соблюдении прочих условий)</li>
			</ul>
			<p>Несмотря на значение параметра <strong>$lightbox_mode</strong>,  при соблюдении прочих условий, всегда создаются предпросмотры для изображений с применением всех сконфигурированных для предпросмотров действий (наложение водяного знака, обрезка и т.п.)</p></td>
	</tr>
	<tr>
		<td><strong>$allow_from</strong></td>
		<td>&nbsp;</td>
		<td>&quot;assets/images&quot;</td>
		<td><p>Разделенный запятыми список папок, в которых разрешено применение плагина, возможно указание удаленных ресурсов. Все не указанные в этом параметре пути запрещены. Пути указываются как относительные от корня сайта, либо удаленные через http://</p>
			<p>Параметр не учитывается в случае <strong>$lightbox_mode</strong> = 1</p></td>
	</tr>
	<tr>
		<td><strong>$deny_from</strong></td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td><p>Разделенный запятыми список папок, в которых запрещено применение плагина, возможно указание удаленных ресурсов. Все не указанные в этом параметре пути разрешены. Пути указываются как относительные от корня сайта, либо удаленные через http://. Игнорируется, если указан параметр $allow_from.</p>
			<p>Параметр не учитывается в случае <strong>$lightbox_mode</strong> = 1</p></td>
	</tr>
	<tr>
		<td><strong>$allow_from_allremote</strong></td>
		<td><ul>
			<li>0</li>
			<li>1</li>
		</ul>
		</td>
		<td>0</td>
		<td>Позволяет разрешить использование плагина для всех изображений с удаленных источников, без необходимости перечислять их в параметре <strong>$allow_from</strong></td>
	</tr>
	<tr>
		<td><strong>$resize_method</strong></td>
		<td><ul>
				<li>0</li>
				<li>1</li>
				<li>2</li>
				<li>3</li>
			</ul></td>
		<td>3</td>
		<td><p>Метод изменения размера изображения. Применяется при генерации предпросмотра. Во всех случаях пропорции изображения сохраняются. Здесь imgWidth и imgHeight - заданные размеры в исходном изображении.</p>
			<ul>
				<li>0 - изображение сначала уменьшается, затем обрезается так, чтобы вписаться в прямоугольник imgWidth х imgHeight</li>
				<li> 1 - по заданной ширинеimgHeight автоматически вычисляется высота изображения</li>
				<li> 2 - по заданной высоте  imgWidth автоматически вычисляется ширина изображения</li>
				<li> 3 - изображение уменьшается таким образом чтобы не превышать заданные imgWidth и imgHeight</li>
			</ul></td>
	</tr>
	<tr>
		<td><strong>$big_quality</strong></td>
		<td>целочисленное значение 1-100</td>
		<td>80</td>
		<td>JPG-качество большого изображения</td>
	</tr>
	<tr>
		<td><strong>$thumb_quality</strong></td>
		<td>целочисленное значение 1-100</td>
		<td>80</td>
		<td>JPG-качество предпросмотра</td>
	</tr>
	<tr>
		<td><strong>$wysiwyg_quality</strong></td>
		<td>целочисленное значение 1-100</td>
		<td>40</td>
		<td>JPG-качество предпросмотра в визуальном редакторе</td>
	</tr>
	<tr>
		<td><p><strong>$big_width</strong></p></td>
		<td>положительное  целочисленное значение</td>
		<td>800</td>
		<td rowspan="2">Если размер оригинального изображения превышает заданные размеры <strong>$big_width</strong> или <strong>$big_height</strong>, генерируется пропорционально уменьшенное от оригинального изображение (в терминологии плагина - большое изображение) рамерами, не превышающими <strong>$big_width</strong> и <strong>$big_height</strong></td>
	</tr>
	<tr>
		<td><strong>$big_height</strong></td>
		<td>положительное целочисленное значение</td>
		<td>600</td>
	</tr>
	<tr>
		<td><strong>$thumb_default_width</strong></td>
		<td>положительное целочисленное значение</td>
		<td>&nbsp;</td>
		<td>Ширина предпросмотра по умолчанию</td>
	</tr>
	<tr>
		<td><strong>$thumb_default_height</strong></td>
		<td>положительное целочисленное значение</td>
		<td>&nbsp;</td>
		<td>Высота предпросмотра по умолчанию</td>
	</tr>
	<tr>
		<td><strong>$thumb_default_sizemode</strong></td>
		<td><ul>
				<li>0</li>
				<li>1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
			</ul></td>
		<td>1</td>
		<td><p>Правило для применения ширины и высоты предпросмотра по умолчанию.</p>
			<ul>
				<li>0 - ширина и высота по умолчанию не используются</li>
				<li>1 -  ширина и высота предпросмотра устанавливаются равными ширине и высоте по умолчанию (<strong>$thumb_default_width</strong> и <strong>$thumb_default_height</strong>), если у исходного изображения не заданы ни высота, ни ширина</li>
				<li>2 - ширина предпросмотра устанавливается равной ширине по умолчанию, если не задана ширина исходного изображения</li>
				<li>3 - высота предпросмотра устанавливается равной высота по умолчанию, если не задана высота исходного изображения</li>
				<li>4 -  ширина и высота предпросмотра принудительно устанавливаются равными ширине и высоте по умолчанию независимо от того, заданы они в исходном изображении или нет</li>
			</ul>
			<p>Стоит заметить, что  не смотря на параметры <strong>$thumb_default_width</strong>, <strong>$thumb_default_height</strong> и <strong>$thumb_default_sizemode, </strong> окончательные размеры сгенерированного предпросмотра будут вычисляться в зависимости от <strong>$resize_method</strong></p>
		<p>При использование принудительного режима (4) совместно с визуальным редактором ведет к тому, исходные width и height для каждого изображения в тексте документа будут заменены на <strong>$thumb_default_width</strong> и <strong>$thumb_default_height</strong> с потерей предыдущих значений (если они были) при сохранении документа. Это необходимо для корректного отображения предпросмотров в визуальном режиме.</p></td>
	</tr>
	<tr>
		<td><strong>$remote_refresh_time</strong></td>
		<td>положительное целочисленное значение</td>
		<td>60</td>
		<td>Время в минутах. Периодичность, с которой перепроверяются изображения на удаленных серверах. Если изображение на удаленном сервере изменилось (проверка делается только на изменения по высоте или ширине), делается его новая локальная копия и перегенерируются его уменьшенные копии.</td>
	</tr>
	<tr>
		<td><strong>$tpl</strong></td>
		<td><ul>
				<li>Имя чанка</li>
				<li>@FILE:&lt;путь к файлу&gt; </li>
				<li>@CODE:&lt;HTML код шаблона&gt; </li>
			</ul></td>
		<td>assets/plugins/ directresize/templates/ lightboxv2.html</td>
		<td>Шаблон для отображения</td>
	</tr>
	<tr>
		<td><strong>$language</strong></td>
		<td><ul>
				<li>english</li>
				<li>russian</li>
			</ul></td>
		<td>english</td>
		<td>Устанавливает язык для плагина. Соответсвующий языковой файл должен лежать в папке lang плагина.</td>
	</tr>
	<tr>
		<td><strong>$header</strong></td>
		<td>HTML-код</td>
		<td>&nbsp;</td>
		<td>HTML-код, размещаемый в теге &lt;head&gt;. Используется для подключения необходимых css и js файлов. Подключается только на тех страницах, на которых есть хотя бы одно изображение, обрабатываемое плагином.</td>
	</tr>
	<tr>
		<td><strong>$maxigallery_jscss_packs</strong></td>
		<td><ul>
				<li>slimbox</li>
				<li>slidebox</li>
				<li>lightboxv2</li>
			</ul></td>
		<td>&nbsp;</td>
		<td><p>Подключает к странице необходимые css и js файлы для соответствующего скрипта из папки сниппета MaxiGallery (сниппет не обязательно должен быть установлен, но его файлы должны находится на FTP-сервере в assets/snippets/maxigallery)</p>
			<p>Удобно, если на сайте совместно с плагином используется и Maxigallery. Если какие-либо js или css файлы уже подключаются вызовом MaxiGallery, DirectResize повторно не подключает эти файлы в секции &lt;head&gt;.</p></td>
	</tr>
</table>
<p>Далее идут параметры, полностью позаимствованные из Maxigallery, имеющие такие же возможные значения и обрабатываемые таким же образом.</p>
<table width="100%" border="0" cellpadding="0" cellspacing="1">
	<tr>
		<td width="20%" class="theader">параметр</td>
		<td width="15%" class="theader">возможные значения</td>
		<td width="15%" class="theader"> значение по умолчанию</td>
		<td class="theader">описание</td>
	</tr>
	<tr>
		<td><strong>$use_ftp_commands</strong></td>
		<td><ul>
				<li>0</li>
				<li>1</li>
			</ul></td>
		<td>0</td>
		<td>Если включено, плагин использует PHP FTP комманды для создания папок для хранения генерируемых изображений.</td>
	</tr>
	<tr>
		<td><strong>$ftp_server</strong></td>
		<td>FTP address</td>
		<td>&nbsp;</td>
		<td>FTP адрес сервера</td>
	</tr>
	<tr>
		<td><strong>$ftp_user</strong></td>
		<td>username </td>
		<td>&nbsp;</td>
		<td>имя пользователя FTP</td>
	</tr>
	<tr>
		<td><strong>$ftp_pass</strong></td>
		<td>password </td>
		<td>&nbsp;</td>
		<td>пароль на FTP </td>
	</tr>
	<tr>
		<td><strong>$ftp_base_dir</strong></td>
		<td>путь </td>
		<td>&nbsp;</td>
		<td>Путь от корня FTP до корня сайта на MODx. Т.е. если корнем FTP  является папка <em>/home/username/</em> и MODx установлен в <em>/home/username/public_html/modx/</em> то используйте значение <em>/public_html/modx/</em> в параметре ftp_base_dir.</td>
	</tr>
	<tr>
		<td><strong>$ftp_port</strong></td>
		<td>число </td>
		<td>21</td>
		<td>Номер порта  FTP</td>
	</tr>
	<tr>
		<td><strong>$thumb_use_watermark </strong>
			<p>&nbsp;</p></td>
		<td><ul>
				<li>0 </li>
				<li>1 </li>
			</ul></td>
		<td><p>0 </p></td>
		<td>Использовать водяные знаки для предпросмотров</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_font</strong></td>
		<td><ul>
				<li>1 </li>
				<li>2 </li>
				<li>3 </li>
				<li>4 </li>
				<li>5 </li>
			</ul></td>
		<td>1 </td>
		<td>Размер шрифта  водяного знака</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_halign </strong></td>
		<td><ul>
				<li>left </li>
				<li>center </li>
				<li>right </li>
			</ul></td>
		<td>right </td>
		<td>Выравнивание водяного знака по горизонтали</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_img </strong></td>
		<td>путь </td>
		<td>assets/plugins/ directresize/ images/watermark.png</td>
		<td>Путь к файлу изображения водяного знака. Используйте png-изображение с альфа-каналом. </td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_txt</strong></td>
		<td>текст </td>
		<td>Copyright &lt;YEAR&gt; </td>
		<td>Текст надписи водяного знака </td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_txt_color </strong></td>
		<td>RGB шестнадцатиричный формат</td>
		<td>FFFFFF </td>
		<td>Цвет текста водяного знака</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_txt_hmargin</strong></td>
		<td>число  (px) </td>
		<td>2 </td>
		<td>Отступ по горизонтали для текста</td>
	</tr>
	<tr>
		<td><strong>$thumb_watermark_txt_vmargin </strong></td>
		<td>число (px) </td>
		<td>2 </td>
		<td>Отступ по вертикали для текста</td>
	</tr>
	<tr>
		<td><strong>$big_use_watermark </strong>
			<p>&nbsp;</p></td>
		<td><ul>
				<li>0 </li>
				<li>1 </li>
			</ul></td>
		<td><p>0 </p></td>
		<td>Использовать водяные знаки для больших изображений</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_font</strong></td>
		<td><ul>
				<li>1 </li>
				<li>2 </li>
				<li>3 </li>
				<li>4 </li>
				<li>5 </li>
			</ul></td>
		<td>1 </td>
		<td>Размер шрифта  водяного знака</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_halign </strong></td>
		<td><ul>
				<li>left </li>
				<li>center </li>
				<li>right </li>
			</ul></td>
		<td>right </td>
		<td>Выравнивание водяного знака по горизонтали</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_img </strong></td>
		<td>путь </td>
		<td>assets/plugins/directresize/ images/watermark.png</td>
		<td>Путь к файлу изображения водяного знака. Используйте png-изображение с альфа-каналом. </td>
	</tr>
	<tr>
		<td><strong>$big_watermark_txt</strong></td>
		<td>текст </td>
		<td>Copyright &lt;YEAR&gt; </td>
		<td>Текст надписи водяного знака </td>
	</tr>
	<tr>
		<td><strong>$big_watermark_txt_color </strong></td>
		<td>RGB шестнадцатиричный формат</td>
		<td>FFFFFF </td>
		<td>Цвет текста водяного знака</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_txt_hmargin</strong></td>
		<td>число  (px) </td>
		<td>2 </td>
		<td>Отступ по горизонтали для текста</td>
	</tr>
	<tr>
		<td><strong>$big_watermark_txt_vmargin </strong></td>
		<td>число (px) </td>
		<td>2 </td>
		<td>Отступ по вертикали для текста</td>
	</tr>
</table>
<h2>Подстановщики</h2>
<p>Подстановщики для использования в шаблоне <strong>$tpl</strong></p>
<table width="100%" border="0" cellpadding="0" cellspacing="1">
	<tr>
		<td width="20%" class="theader">подстановщик</td>
		<td width="80%" class="theader">описание</td>
	</tr>
	<tr>
		<td>[+dr.id+]</td>
		<td>цифровой идентификатор изображения, уникальный в рамках данного документа</td>
	</tr>
	<tr>
		<td>[+dr.alt+]<br />
		[+dr.title+]<br />
		[+dr.class+]<br />
		[+dr.style+]<br />
		[+dr.align+]<br />
		[+dr.valign+]</td>
		<td>аттрибуты <em>alt</em>, <em>title</em>, <em>class</em>, <em>style</em>, <em>align</em>, <em>valign</em> исходного изображения</td>
	</tr>
	<tr>
		<td>[+dr.thumbWidth+]</td>
		<td>ширина сгенерированного предпросмотра</td>
	</tr>
	<tr>
		<td>[+dr.thumbHeight+]</td>
		<td>высота сгенерированного предпросмотра</td>
	</tr>
	<tr>
		<td>[+dr.thumbPath+]</td>
		<td>путь к файлу сгенерированного предпросмотра</td>
	</tr>
	<tr>
		<td>[+dr.thumbFilesize+]</td>
		<td> размер файла сгенерированного предпросмотра</td>
	</tr>
	<tr>
		<td>[+dr.bigWidth+]</td>
		<td>ширина сгенерированного большого изображения (если большое изображение не генерировалось - ширина исходного изображения)</td>
	</tr>
	<tr>
		<td>[+dr.bigHeight+]</td>
		<td>высота сгенерированного большого изображения  (если большое изображение не генерировалось - высота исходного изображения)</td>
	</tr>
	<tr>
		<td>[+dr.bigPath+]</td>
		<td>путь к файлу сгенерированного большого изображения  (если большое изображение не генерировалось - путь к файлу исходного изображения)</td>
	</tr>
	<tr>
		<td>[+dr.bigFilesize+]</td>
		<td> размер файла сгенерированного большого изображения  (если большое изображение не генерировалось - размер файла исходного изображения)</td>
	</tr>
	<tr>
		<td>[+dr.originalWidth+]</td>
		<td>ширина исходного изображения</td>
	</tr>
	<tr>
		<td>[+dr.originalHeight+]</td>
		<td>высота исходного изображения</td>
	</tr>
	<tr>
		<td>[+dr.originalPath+]</td>
		<td>путь к файлу исходного изображения</td>
	</tr>
	<tr>
		<td>[+dr.originalFilesize+]</td>
		<td> размер файла исходного изображения</td>
	</tr>
	<tr>
		<td>[+dr.originalFilename+]</td>
		<td>имя исходного файла</td>
	</tr>
</table>
<h2><a name="label" id="label"></a>Метки</h2>
<p><em>Метка</em>, в терминологии данного плагина - специальное слово (или часть слова), которое может встречаться внутри тега img в любом месте:
	внутри атрибутов class, alt, title и т.п. и или вне их и является управляющим для некоторых действий над данным изображением (и только над ним).</p>
<p>Например при значении параметра <strong>$lightbox_mode</strong> = 1 предпросмотр с lightbox-ссылкой генерируется только для изображений с меткой <span class="label">drlightbox</span>. Пример  изображений с меткой <span class="label">drlightbox</span></p>
<ul>
	<li><code>&lt;img src=&quot;image.jpg&quot; alt=&quot;<span class="label">drlightbox</span>&quot; /&gt;</code></li>
	<li><code>&lt;img src=&quot;image.jpg&quot; class = &quot;<span class="label">drlightbox</span>_align_left&quot; /&gt;</code> </li>
	<li><code>&lt;img src=&quot;image.jpg&quot; title = &quot;<span class="label">drlightbox</span> picture&quot; /&gt;</code></li>
	<li><code>&lt;img src=&quot;image.jpg&quot; style = &quot;background: url(<span class="label">drlightbox</span>_bg.gif);&quot; /&gt;</code></li>
	<li><code>&lt;img src=&quot;assets/images/my<span class="label">drlightbox</span>picture.jpg&quot; /&gt;</code></li>
	<li>и даже <code>&lt;img src=&quot;image.jpg&quot; <span class="label">drlightbox</span> /&gt;</code></li>
</ul>
<p>Не стоит переживать из-за возможности возникновения ошибок валидации кода в случае применения метки в неположенном месте. В выходном коде все управляющие метки удаляются. Поэтому избегайте использования названий служебных меток в названиях файлов изображений - часть имени файла будет просто удалена.<strong> Внимание: </strong>не используйте метки вне аттрибутов (последний пример), если вы используете визуальный редактор, т.к. в этом случае метки будут удалены самим редактором как ошибочный html-код.</p>
<p>Mетка <span class="label">drthumbonly</span>. Имеет смысл только при значении параметра <strong>$lightbox_mode</strong> = 2 и указывает на то, чтобы данному изображению принудительно не генерировалось большое изображение и lightbox-ссылка, только предпросмотр. </p>
<p>При значении параметра <strong>$lightbox_mode</strong> = 1 для всех изображения без метки <span class="label">drlightbox</span> и так  генерируются предпросмотры без lightbox-ссылок, поэтому применение <span class="label">drthumbonly</span> избыточно.</p>
<p>Mетка <span class="label">drskip</span>. Указывает плагину полностью пропустить обработку изображения.</p>
<h2>В планах</h2>
<ul>
	<li>phpThumb класс для операций над изображениями.</li>
	<li>Возможность создания наборов различных конфигурационных параметров для использования в разных документах одного сайта.</li>
</ul>
<h2>История версий</h2>
<h3>0.8.0b</h3>
<p>Первый релиз</p>
<h3>0.8.0</h3>
<p>* Ошибка когда файлы имеют одинаковые имена, но из разных папок<br />
	* Ошибка при использовании плагина и Maxigallery в одном документе<br />
	*  Имена меток изменены на drlightbox и drthumbonly. Т.к. метки удаляются  из выходного кода, название метки lightbox не позволяло использовать в  шаблоне слово lightbox (например rel=&quot;lightbox&quot;)<br />
	* Ошибка &quot;Fatal  error: Call to undefined function: size() in  ...assets\plugins\directresize\directResize.php on line 141&quot;  которую  вызывал плагин, когда файл изображения, указанный в обрабатываемом  плагином теге IMG не найден<br />
	* Не создаются lightbox-ссылки при использовании lightbox_mode = 1 и метки &quot;drlightbox&quot; <br />
	+ Новая метка &quot;drskip&quot;, изображения с этой меткой не обрабатываются плагином<br />
	* Ошибка при использовании gif-изображений в документах<br />
	* Ошибка с командами фтп<br />
	+ добавлены плейсхолдеры для подстановки style, align, valign исходного изображения<br />
	+ добавлена поддержка и корректная работа с абсолютными путями изображений<br />
+  Новый параметр $allow_from_allremote позволяет разрешить использование  плагина для всех изображений с удаленных источников, без необходимости  перечислять их в параметре $allow_from<br />
* Highslide обновлен до версии 0.3.6<br />
+ Добавлены стандартные пакеты конфигураций для slimbox, slidebox, lightbox v2</p>
<h3>0.8.0.1</h3>
<p>* Ошибка при совместном использовании $thumb_default_sizemode = 4 и метки drthumbonly<br />
+ Добавлена секция &quot;Быстрый старт&quot; и другие небольшие изменения в документации</p>
<h3>0.8.0.2</h3>
<p>	* Ошибка, не создавались предпросмотры при использовании визуального режима TinyMCE<br />
	* Ошибка, когда пропадали метки при использовании визуального режима TinyMCE<br />
+ Удаление лишних пробелов после удаления меток из исходного кода (но только один пробел удаляется до или после метки)</p>
<p>&nbsp;</p>
<h2>Известные проблемы</h2>
<p>На данный момент мне не знаком простой способ проверить наличие файла на удаленном хосте при использовании PHP &lt; 5.0. Поэтому если на сайте исползуются изображения с удаленных хостов и плагин будет пытаться обработать изображение по несуществующему пути - это вызовет ошибку php.</p>
<h2>Благодарности </h2>
<p>Данный плагин основан на идее и разработках автора предыдущих версий DirectResize - <em>Arnaud</em>. </p>
<p>В плагине используются части кода и части документации из сниппета Maxigallery от <em>doze</em>.</p>
<p>Плагин использует Chunkie class и PHx парсер от <em>bS</em></p>
<p>Плагин использует Thumbnail and Watermark Class от <em>Emilio Rodriguez</em><br />
</p>
<p>В качестве примера используется Highslide JS 
	скрипт от <em>Torstein Honsi</em></p>
<p>Спасибо, ребята!</p>
<p><em>Metaller (<a href="mailto:metaller.ru@gmail.com">metaller.ru@gmail.com</a>)</em></p>
</body>
</html>
